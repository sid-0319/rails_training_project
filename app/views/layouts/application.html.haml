!!! 5
%html
  %head
    %title= content_for?(:title) ? yield(:title) : "Store"
    %meta{ name: "viewport", content: "width=device-width, initial-scale=1" }
    %meta{ name: "apple-mobile-web-app-capable", content: "yes" }
    = csrf_meta_tags
    = csp_meta_tag
    = stylesheet_link_tag "application", "data-turbo-track": "reload"
    = javascript_include_tag "application", "data-turbo-track": "reload", defer: true
    = stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css", rel: "stylesheet"
    = stylesheet_link_tag "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css", rel: "stylesheet"
    = javascript_include_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js", defer: true

  %body
    - if flash.present?
      .position-fixed.top-0.start-50.translate-middle-x.mt-3{ style: "z-index: 1050; width: 100%; max-width: 600px;" }
        - flash.each do |key, message|
          - alert_class = { 'notice' => 'alert-success', 'alert' => 'alert-danger' }[key.to_s] || 'alert-info'
          .alert{ class: "alert #{alert_class} alert-dismissible fade show", role: "alert" }
            = message
            %button.btn-close{ "data-bs-dismiss" => "alert", "aria-label" => "Close" }

    = yield