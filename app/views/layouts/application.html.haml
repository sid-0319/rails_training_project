%html
  %head
    %title= content_for?(:title) ? yield(:title) : "Store"
    %meta{ name: "viewport", content: "width=device-width,initial-scale=1" }
    %meta{ name: "apple-mobile-web-app-capable", content: "yes" }
    = csrf_meta_tags
    = csp_meta_tag
    = stylesheet_link_tag "application", "data-turbo-track": "reload"
    = javascript_include_tag "application", "data-turbo-track": "reload", defer: true
    = stylesheet_link_tag "https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css", rel: "stylesheet"
    = stylesheet_link_tag "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css", rel: "stylesheet"

  %body
    - flash.each do |key, message|
      - alert_class = key == 'notice' ? 'alert-success' : (key == 'alert' ? 'alert-danger' : 'alert-info')
      .container.mt-3
        .alert{ class: "alert #{alert_class} alert-dismissible fade show", role: "alert" }
          = message
          %button.btn-close{ "data-bs-dismiss" => "alert", "aria-label" => "Close" }

    = yield
