#feedbackModal.modal.fade{ tabindex: "-1", aria: { labelledby: "feedbackModalLabel" }, role: "dialog" }
  .modal-dialog.modal-dialog-centered
    .modal-content
      .modal-header
        %h5#feedbackModalLabel.modal-title Give Feedback
        %button.btn-close{ type: "button", data: { bs_dismiss: "modal" }, aria: { label: "Close" } }

      .modal-body
        = simple_form_for @feedback, url: feedbacks_path, html: { class: 'feedback-form' } do |f|
          = f.hidden_field :restaurant_id, value: @restaurant&.id
          = f.hidden_field :current_url, value: request.original_url

          .mb-3
            %label.form-label Rating
            .star-rating{ style: "display: flex; gap: 5px;" }
              - (1..5).each do |i|
                %label{ style: "cursor: pointer;" }
                  = f.radio_button :rating, i, id: "rating_#{i}", style: "display: none;" 
                  %i.fa.fa-star{ class: "text-secondary", data: { rating_value: i }, onclick: "document.getElementById('rating_#{i}').checked = true; updateStars(#{i})" }

          .mb-3
            = f.input :comment, label: 'Comment'

          = f.submit 'Submit Feedback', class: "btn btn-primary mt-2"

:javascript
  function updateStars(rating) {
    const stars = document.querySelectorAll('.star-rating i.fa-star');
    stars.forEach((star, index) => {
      if (index < rating) {
        star.classList.add('text-warning');
        star.classList.remove('text-secondary');
      } else {
        star.classList.remove('text-warning');
        star.classList.add('text-secondary');
      }
    });
  }
