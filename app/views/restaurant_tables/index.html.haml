.container{ style: "max-width: 1000px; margin: 30px auto; padding: 30px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1);" }
  %h2{ style: "font-size: 28px; color: #2c3e50; margin-bottom: 30px; text-align: center;" }
    Tables for #{@restaurant.name}

  .d-flex.justify-content-between.align-items-center.mb-4.flex-wrap{ style: "gap: 15px;" }
    = form_with url: restaurant_restaurant_tables_path(@restaurant), method: :get, local: true, style: "display: flex; align-items: center; gap: 12px; flex-wrap: wrap;" do |f|
      %label{ for: "status", style: "margin-bottom: 0; font-weight: 600;" } Filter by Status:
      = f.select :status, options_for_select([["All", ""], ["Available", "available"], ["Reserved", "reserved"], ["Occupied", "occupied"]], @status_filter), {}, class: "form-select", style: "width: 200px;"
      = f.submit "Filter", class: "btn btn-primary", style: "padding: 6px 16px; font-weight: 500;"

    = button_tag "Add Table", type: :button, class: "btn btn-success", data: { bs_toggle: "modal", bs_target: "#addTableModal" }, style: "padding: 6px 16px; font-weight: 500;"

  %table{ style: "width: 100%; border-collapse: collapse; margin-top: 20px;" }
    %thead
      %tr{ style: "background-color: #f8f9fa;" }
        %th{ style: "padding: 12px; border: 1px solid #dee2e6;" }= link_to "ID", { sort: "id", status: params[:status] }, style: "text-decoration: none; color: inherit;"
        %th{ style: "padding: 12px; border: 1px solid #dee2e6;" }= link_to "Table Number", { sort: "table_number", status: params[:status] }, style: "text-decoration: none; color: inherit;"
        %th{ style: "padding: 12px; border: 1px solid #dee2e6;" }= link_to "Seats", { sort: "seats", status: params[:status] }, style: "text-decoration: none; color: inherit;"
        %th{ style: "padding: 12px; border: 1px solid #dee2e6;" }= link_to "Status", { sort: "status", status: params[:status] }, style: "text-decoration: none; color: inherit;"
        %th{ style: "padding: 12px; border: 1px solid #dee2e6;" } Actions
    %tbody
      - if @tables.any?
        - @tables.each do |table|
          %tr
            %td{ style: "padding: 10px; border: 1px solid #dee2e6;" }= table.id
            %td{ style: "padding: 10px; border: 1px solid #dee2e6;" }= table.table_number
            %td{ style: "padding: 10px; border: 1px solid #dee2e6;" }= table.seats
            %td{ style: "padding: 10px; border: 1px solid #dee2e6;" }= table.status.humanize
            %td{ style: "padding: 10px; border: 1px solid #dee2e6;" }
              .d-flex.align-items-center.gap-2.flex-wrap
                = button_tag type: :button, class: "btn btn-sm btn-warning", data: { bs_toggle: "modal", bs_target: "#editTableModal-#{table.id}" } do
                  %i.fas.fa-edit.me-1
                  Edit
                = button_to restaurant_restaurant_table_path(@restaurant, table),
                            method: :delete,
                            data: { confirm: "Are you sure you want to delete this table?" },
                            class: "btn btn-sm btn-danger" do
                  %i.fas.fa-trash.me-1
                  Delete

          / Modal for Editing Table
          .modal.fade{id: "editTableModal-#{table.id}", tabindex: "-1", aria: { labelledby: "editTableModalLabel-#{table.id}", hidden: "true" } }
            .modal-dialog
              .modal-content
                .modal-header
                  %h5.modal-title{id: "editTableModalLabel-#{table.id}"} Edit Table ##{table.table_number}
                  %button.btn-close{ type: "button", data: { bs_dismiss: "modal" }, aria: { label: "Close" } }
                = form_with model: [@restaurant, table], url: restaurant_restaurant_table_path(@restaurant, table), method: :patch, local: true do |f|
                  .modal-body
                    .mb-3
                      = f.label :table_number, "Table Number", class: "form-label"
                      = f.text_field :table_number, class: "form-control", required: true

                    .mb-3
                      = f.label :seats, "Seats", class: "form-label"
                      = f.number_field :seats, class: "form-control", required: true

                    .mb-3
                      = f.label :status, "Status", class: "form-label"
                      = f.select :status, RestaurantTable.statuses.keys.map { |s| [s.humanize, s] }, {}, class: "form-select", required: true

                  .modal-footer
                    %button.btn.btn-secondary{ type: "button", data: { bs_dismiss: "modal" } } Close
                    = f.submit "Update Table", class: "btn btn-primary"
      - else
        %tr
          %td{ colspan: 5, style: "padding: 15px; text-align: center; color: gray; border: 1px solid #dee2e6;" }
            No tables found for the selected filter.

.d-flex.justify-content-center.mt-4{ style: "font-family: Arial, sans-serif;" }
  = will_paginate @tables, params: { sort: params[:sort], status: params[:status] }

:css
  .pagination {
    display: flex !important;
    list-style: none !important;
    padding-left: 0 !important;
    border-radius: 0.375rem !important;
    gap: 0.5rem !important;
    margin-top: 20px !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
  }
  .pagination li {
    margin: 0 !important;
  }
  .pagination a,
  .pagination span {
    color: #0d6efd !important;
    padding: 0.375rem 0.75rem !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 0.375rem !important;
    text-decoration: none !important;
    cursor: pointer !important;
    min-width: 2.5rem !important;
    text-align: center !important;
    display: inline-block !important;
    transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out !important;
  }
  .pagination a:hover {
    background-color: #e9f5ff !important;
    border-color: #0d6efd !important;
  }
  .pagination .active span {
    background-color: #0d6efd !important;
    border-color: #0d6efd !important;
    color: white !important;
    cursor: default !important;
  }
  .pagination .disabled span {
    color: #6c757d !important;
    cursor: default !important;
  }

.modal.fade#addTableModal{ tabindex: "-1", aria: { labelledby: "addTableModalLabel", hidden: "true" } }
  .modal-dialog
    .modal-content
      .modal-header
        %h5.modal-title#addTableModalLabel Add New Table
        %button.btn-close{ type: "button", data: { bs_dismiss: "modal" }, aria: { label: "Close" } }
      = form_with model: [@restaurant, @restaurant.restaurant_tables.new], url: restaurant_restaurant_tables_path(@restaurant), local: true do |f|
        .modal-body
          .mb-3
            = f.label :table_number, "Table Number", class: "form-label"
            = f.text_field :table_number, class: "form-control", required: true

          .mb-3
            = f.label :seats, "Seats", class: "form-label"
            = f.number_field :seats, class: "form-control", required: true

          .mb-3
            = f.label :status, "Status", class: "form-label"
            = f.select :status, RestaurantTable.statuses.keys.map { |s| [s.humanize, s] }, {}, class: "form-select", required: true

        .modal-footer
          %button.btn.btn-secondary{ type: "button", data: { bs_dismiss: "modal" } } Close
          = f.submit "Create Table", class: "btn btn-primary"
